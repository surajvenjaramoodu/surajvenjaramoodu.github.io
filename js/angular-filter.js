(function(window,angular,undefined){'use strict';var isDefined=angular.isDefined,isUndefined=angular.isUndefined,isFunction=angular.isFunction,isString=angular.isString,isNumber=angular.isNumber,isObject=angular.isObject,isArray=angular.isArray,forEach=angular.forEach,extend=angular.extend,copy=angular.copy,equals=angular.equals;function toArray(object){return isArray(object)?object:Object.keys(object).map(function(key){return object[key];});}function isNull(value){return value===null;}function objectContains(partial,object){var keys=Object.keys(partial);return keys.map(function(el){return!(!object[el]||(object[el]!=partial[el]));}).indexOf(false)==-1;}function hasApproxPattern(word,pattern){if(pattern==='')return word;var index=word.indexOf(pattern.charAt(0));if(index===-1)return false;return hasApproxPattern(word.substr(index+1),pattern.substr(1))}function getFirstMatches(array,n,expression){var count=0;return array.filter(function(elm){var rest=isDefined(expression)?(count<n&&expression(elm)):count<n;count=rest?count+1:count;return rest;});}if(!String.prototype.contains){String.prototype.contains=function(){return String.prototype.indexOf.apply(this,arguments)!==-1;};}function convertToDecimal(num,decimal,$math){return $math.round(num*$math.pow(10,decimal))/($math.pow(10,decimal));}angular.module('a8m.angular',[]).filter('isUndefined',function(){return function(input){return angular.isUndefined(input);}}).filter('isDefined',function(){return function(input){return angular.isDefined(input);}}).filter('isFunction',function(){return function(input){return angular.isFunction(input);}}).filter('isString',function(){return function(input){return angular.isString(input)}}).filter('isNumber',function(){return function(input){return angular.isNumber(input);}}).filter('isArray',function(){return function(input){return angular.isArray(input);}}).filter('isObject',function(){return function(input){return angular.isObject(input);}}).filter('isEqual',function(){return function(o1,o2){return angular.equals(o1,o2);}});angular.module('a8m.conditions',[]).filter({isGreaterThan:isGreaterThanFilter,'>':isGreaterThanFilter,isGreaterThanOrEqualTo:isGreaterThanOrEqualToFilter,'>=':isGreaterThanOrEqualToFilter,isLessThan:isLessThanFilter,'<':isLessThanFilter,isLessThanOrEqualTo:isLessThanOrEqualToFilter,'<=':isLessThanOrEqualToFilter,isEqualTo:isEqualToFilter,'==':isEqualToFilter,isNotEqualTo:isNotEqualToFilter,'!=':isNotEqualToFilter,isIdenticalTo:isIdenticalToFilter,'===':isIdenticalToFilter,isNotIdenticalTo:isNotIdenticalToFilter,'!==':isNotIdenticalToFilter});function isGreaterThanFilter(){return function(input,check){return input>check;};}function isGreaterThanOrEqualToFilter(){return function(input,check){return input>=check;};}function isLessThanFilter(){return function(input,check){return input<check;};}function isLessThanOrEqualToFilter(){return function(input,check){return input<=check;};}function isEqualToFilter(){return function(input,check){return input==check;};}function isNotEqualToFilter(){return function(input,check){return input!=check;};}function isIdenticalToFilter(){return function(input,check){return input===check;};}function isNotIdenticalToFilter(){return function(input,check){return input!==check;};}angular.module('a8m.is-null',[]).filter('isNull',function(){return function(input){return isNull(input);}});angular.module('a8m.after-where',[]).filter('afterWhere',function(){return function(collection,object){collection=(isObject(collection))?toArray(collection):collection;if(!isArray(collection)||isUndefined(object))return collection;var index=collection.map(function(elm){return objectContains(object,elm);}).indexOf(true);return collection.slice((index===-1)?0:index);}});angular.module('a8m.after',[]).filter('after',function(){return function(collection,count){collection=(isObject(collection))?toArray(collection):collection;return(isArray(collection))?collection.slice(count):collection;}});angular.module('a8m.before-where',[]).filter('beforeWhere',function(){return function(collection,object){collection=(isObject(collection))?toArray(collection):collection;if(!isArray(collection)||isUndefined(object))return collection;var index=collection.map(function(elm){return objectContains(object,elm);}).indexOf(true);return collection.slice(0,(index===-1)?collection.length:++index);}});angular.module('a8m.before',[]).filter('before',function(){return function(collection,count){collection=(isObject(collection))?toArray(collection):collection;return(isArray(collection))?collection.slice(0,(!count)?count:--count):collection;}});angular.module('a8m.concat',[]).filter('concat',[function(){return function(collection,joined){if(isUndefined(joined)){return collection;}if(isArray(collection)){return(isObject(joined))?collection.concat(toArray(joined)):collection.concat(joined);}if(isObject(collection)){var array=toArray(collection);return(isObject(joined))?array.concat(toArray(joined)):array.concat(joined);}return collection;};}]);angular.module('a8m.contains',[]).filter({contains:['$parse',containsFilter],some:['$parse',containsFilter]});function containsFilter($parse){return function(collection,expression){collection=(isObject(collection))?toArray(collection):collection;if(!isArray(collection)||isUndefined(expression)){return true;}return collection.some(function(elm){return(isObject(elm)||isFunction(expression))?$parse(expression)(elm):elm===expression;});}}angular.module('a8m.count-by',[]).filter('countBy',['$parse',function($parse){return function(collection,property){var result={},get=$parse(property),prop;collection=(isObject(collection))?toArray(collection):collection;if(!isArray(collection)||isUndefined(property)){return collection;}collection.forEach(function(elm){prop=get(elm);if(!result[prop]){result[prop]=0;}result[prop]++;});return result;}}]);angular.module('a8m.every',[]).filter('every',['$parse',function($parse){return function(collection,expression){collection=(isObject(collection))?toArray(collection):collection;if(!isArray(collection)||isUndefined(expression)){return true;}return collection.every(function(elm){return(isObject(elm)||isFunction(expression))?$parse(expression)(elm):elm===expression;});}}]);angular.module('a8m.filter-by',[]).filter('filterBy',['$parse',function($parse){return function(collection,properties,search){var comparator;search=(isString(search)||isNumber(search))?String(search).toLowerCase():undefined;collection=(isObject(collection))?toArray(collection):collection;if(!isArray(collection)||isUndefined(search)){return collection;}return collection.filter(function(elm){return properties.some(function(prop){if(!~prop.indexOf('+')){comparator=$parse(prop)(elm)}else{var propList=prop.replace(new RegExp('\\s','g'),'').split('+');comparator=propList.reduce(function(prev,cur,index){return(index===1)?$parse(prev)(elm)+' '+$parse(cur)(elm):prev+' '+$parse(cur)(elm);});}return(isString(comparator)||isNumber(comparator))?String(comparator).toLowerCase().contains(search):false;})});}}]);angular.module('a8m.first',[]).filter('first',['$parse',function($parse){return function(collection){var n,getter,args;collection=(isObject(collection))?toArray(collection):collection;if(!isArray(collection)){return collection;}args=Array.prototype.slice.call(arguments,1);n=(isNumber(args[0]))?args[0]:1;getter=(!isNumber(args[0]))?args[0]:(!isNumber(args[1]))?args[1]:undefined;return(args.length)?getFirstMatches(collection,n,(getter)?$parse(getter):getter):collection[0];}}]);angular.module('a8m.flatten',[]).filter('flatten',function(){return function(collection,shallow){shallow=shallow||false;collection=(isObject(collection))?toArray(collection):collection;if(!isArray(collection)){return collection;}return(!shallow)?flatten(collection,0):[].concat.apply([],collection);}});function flatten(array,i){i=i||0;if(i>=array.length)return array;if(isArray(array[i])){return flatten(array.slice(0,i).concat(array[i],array.slice(i+1)),i);}return flatten(array,i+1);}angular.module('a8m.fuzzy-by',[]).filter('fuzzyBy',['$parse',function($parse){return function(collection,property,search,csensitive){var sensitive=csensitive||false,prop,getter;collection=(isObject(collection))?toArray(collection):collection;if(!isArray(collection)||isUndefined(property)||isUndefined(search)){return collection;}getter=$parse(property);return collection.filter(function(elm){prop=getter(elm);if(!isString(prop)){return false;}prop=(sensitive)?prop:prop.toLowerCase();search=(sensitive)?search:search.toLowerCase();return hasApproxPattern(prop,search)!==false})}}]);angular.module('a8m.fuzzy',[]).filter('fuzzy',function(){return function(collection,search,csensitive){var sensitive=csensitive||false;collection=(isObject(collection))?toArray(collection):collection;if(!isArray(collection)||isUndefined(search)){return collection;}search=(sensitive)?search:search.toLowerCase();return collection.filter(function(elm){if(isString(elm)){elm=(sensitive)?elm:elm.toLowerCase();return hasApproxPattern(elm,search)!==false}return(isObject(elm))?_hasApproximateKey(elm,search):false;});function _hasApproximateKey(object,search){var properties=Object.keys(object),prop,flag;return 0<properties.filter(function(elm){prop=object[elm];if(flag)return true;if(isString(prop)){prop=(sensitive)?prop:prop.toLowerCase();return flag=(hasApproxPattern(prop,search)!==false);}return false;}).length;}}});angular.module('a8m.group-by',['a8m.filter-watcher']).filter('groupBy',['$parse','filterWatcher',function($parse,filterWatcher){return function(collection,property){var result,get=$parse(property),prop;if(!isObject(collection)||isUndefined(property)){return collection;}result=filterWatcher.$watch('groupBy',collection);forEach(collection,function(elm){prop=get(elm);if(!result[prop]){result[prop]=[];}if(result[prop].indexOf(elm)===-1){result[prop].push(elm);}});filterWatcher.$destroy('groupBy',collection);return result;}}]);angular.module('a8m.is-empty',[]).filter('isEmpty',function(){return function(collection){return(isObject(collection))?!toArray(collection).length:!collection.length;}});angular.module('a8m.last',[]).filter('last',['$parse',function($parse){return function(collection){var n,getter,args,reversed=copy(collection);reversed=(isObject(reversed))?toArray(reversed):reversed;if(!isArray(reversed)){return reversed;}args=Array.prototype.slice.call(arguments,1);n=(isNumber(args[0]))?args[0]:1;getter=(!isNumber(args[0]))?args[0]:(!isNumber(args[1]))?args[1]:undefined;return(args.length)?getFirstMatches(reversed.reverse(),n,(getter)?$parse(getter):getter).reverse():reversed[reversed.length-1];}}]);angular.module('a8m.map',[]).filter('map',['$parse',function($parse){return function(collection,expression){collection=(isObject(collection))?toArray(collection):collection;if(!isArray(collection)||isUndefined(expression)){return collection;}return collection.map(function(elm){return $parse(expression)(elm);});}}]);angular.module('a8m.omit',[]).filter('omit',['$parse',function($parse){return function(collection,expression){collection=(isObject(collection))?toArray(collection):collection;if(!isArray(collection)||isUndefined(expression)){return collection;}return collection.filter(function(elm){return!($parse(expression)(elm));});}}]);angular.module('a8m.pick',[]).filter('pick',['$parse',function($parse){return function(collection,expression){collection=(isObject(collection))?toArray(collection):collection;if(!isArray(collection)||isUndefined(expression)){return collection;}return collection.filter(function(elm){return $parse(expression)(elm);});}}]);angular.module('a8m.remove-with',[]).filter('removeWith',function(){return function(collection,object){if(isUndefined(object)){return collection;}collection=(isObject(collection))?toArray(collection):collection;return collection.filter(function(elm){return!objectContains(object,elm);});}});angular.module('a8m.remove',[]).filter('remove',function(){return function(collection){collection=(isObject(collection))?toArray(collection):collection;var args=Array.prototype.slice.call(arguments,1);if(!isArray(collection)){return collection;}return collection.filter(function(member){return!args.some(function(nest){return equals(nest,member);})});}});angular.module('a8m.reverse',[]).filter('reverse',[function(){return function(input){input=(isObject(input))?toArray(input):input;if(isString(input)){return input.split('').reverse().join('');}return(isArray(input))?input.reverse():input;}}]);angular.module('a8m.search-field',[]).filter('searchField',['$parse',function($parse){return function(collection){var get,field;collection=(isObject(collection))?toArray(collection):collection;var args=Array.prototype.slice.call(arguments,1);if(!isArray(collection)||!args.length){return collection;}return collection.map(function(member){field=args.map(function(field){get=$parse(field);return get(member);}).join(' ');return extend(member,{searchField:field});});}}]);angular.module('a8m.to-array',[]).filter('toArray',function(){return function(collection,addKey){if(!isObject(collection)){return collection;}return(!addKey)?toArray(collection):Object.keys(collection).map(function(key){return extend(collection[key],{$key:key});});}});angular.module('a8m.unique',[]).filter({unique:['$parse',uniqFilter],uniq:['$parse',uniqFilter]});function uniqFilter($parse){return function(collection,property){collection=(isObject(collection))?toArray(collection):collection;if(!isArray(collection)){return collection;}var uniqueItems=[],get=$parse(property);return(isUndefined(property))?collection.filter(function(elm,pos,self){return self.indexOf(elm)===pos;}):collection.filter(function(elm){var prop=get(elm);if(some(uniqueItems,prop)){return false;}uniqueItems.push(prop);return true;});function some(array,member){if(isUndefined(member)){return false;}return array.some(function(el){return equals(el,member);});}}}angular.module('a8m.where',[]).filter('where',function(){return function(collection,object){if(isUndefined(object)){return collection;}collection=(isObject(collection))?toArray(collection):collection;return collection.filter(function(elm){return objectContains(object,elm);});}});angular.module('a8m.xor',[]).filter('xor',['$parse',function($parse){return function(col1,col2,expression){expression=expression||false;col1=(isObject(col1))?toArray(col1):col1;col2=(isObject(col2))?toArray(col2):col2;if(!isArray(col1)||!isArray(col2))return col1;return col1.concat(col2).filter(function(elm){return!(some(elm,col1)&&some(elm,col2));});function some(el,col){var getter=$parse(expression);return col.some(function(dElm){return expression?equals(getter(dElm),getter(el)):equals(dElm,el);})}}}]);angular.module('a8m.math.byteFmt',['a8m.math']).filter('byteFmt',['$math',function($math){return function(bytes,decimal){if(isNumber(decimal)&&isFinite(decimal)&&decimal%1===0&&decimal>=0&&isNumber(bytes)&&isFinite(bytes)){if(bytes<1024){return convertToDecimal(bytes,decimal,$math)+' B';}else if(bytes<1048576){return convertToDecimal((bytes/1024),decimal,$math)+' KB';}else if(bytes<1073741824){return convertToDecimal((bytes/1048576),decimal,$math)+' MB';}else{return convertToDecimal((bytes/1073741824),decimal,$math)+' GB';}}else{return"NaN";}}}]);angular.module('a8m.math.degrees',['a8m.math']).filter('degrees',['$math',function($math){return function(radians,decimal){if(isNumber(decimal)&&isFinite(decimal)&&decimal%1===0&&decimal>=0&&isNumber(radians)&&isFinite(radians)){var degrees=(radians*180)/$math.PI;return $math.round(degrees*$math.pow(10,decimal))/($math.pow(10,decimal));}else{return"NaN";}}}]);angular.module('a8m.math.kbFmt',['a8m.math']).filter('kbFmt',['$math',function($math){return function(bytes,decimal){if(isNumber(decimal)&&isFinite(decimal)&&decimal%1===0&&decimal>=0&&isNumber(bytes)&&isFinite(bytes)){if(bytes<1024){return convertToDecimal(bytes,decimal,$math)+' KB';}else if(bytes<1048576){return convertToDecimal((bytes/1024),decimal,$math)+' MB';}else{return convertToDecimal((bytes/1048576),decimal,$math)+' GB';}}else{return"NaN";}}}]);angular.module('a8m.math',[]).factory('$math',['$window',function($window){return $window.Math;}]);angular.module('a8m.math.max',['a8m.math']).filter('max',['$math',function($math){return function(input){return(isArray(input))?$math.max.apply($math,input):input;}}]);angular.module('a8m.math.min',['a8m.math']).filter('min',['$math',function($math){return function(input){return(isArray(input))?$math.min.apply($math,input):input;}}]);angular.module('a8m.math.percent',['a8m.math']).filter('percent',['$math','$window',function($math,$window){return function(input,divided,round){var divider=(isString(input))?$window.Number(input):input;divided=divided||100;round=round||false;if(!isNumber(divider)||$window.isNaN(divider))return input;return(round)?$math.round((divider/divided)*100):((divider/divided)*100);}}]);angular.module('a8m.math.radians',['a8m.math']).filter('radians',['$math',function($math){return function(degrees,decimal){if(isNumber(decimal)&&isFinite(decimal)&&decimal%1===0&&decimal>=0&&isNumber(degrees)&&isFinite(degrees)){var radians=(degrees*3.14159265359)/180;return $math.round(radians*$math.pow(10,decimal))/($math.pow(10,decimal));}else{return"NaN";}}}]);angular.module('a8m.math.radix',[]).filter('radix',function(){return function(input,radix){var RANGE=/^[2-9]$|^[1-2]\d$|^3[0-6]$/;if(!isNumber(input)||!RANGE.test(radix)){return input;}return input.toString(radix).toUpperCase();}});angular.module('a8m.math.shortFmt',['a8m.math']).filter('shortFmt',['$math',function($math){return function(number,decimal){if(isNumber(decimal)&&isFinite(decimal)&&decimal%1===0&&decimal>=0&&isNumber(number)&&isFinite(number)){if(number<1e3){return number;}else if(number<1e6){return convertToDecimal((number/1e3),decimal,$math)+' K';}else if(number<1e9){return convertToDecimal((number/1e6),decimal,$math)+' M';}else{return convertToDecimal((number/1e9),decimal,$math)+' B';}}else{return"NaN";}}}]);angular.module('a8m.math.sum',[]).filter('sum',function(){return function(input,initial){return(!isArray(input))?input:input.reduce(function(prev,curr){return prev+curr;},initial||0);}});angular.module('a8m.ends-with',[]).filter('endsWith',function(){return function(input,ends,csensitive){var sensitive=csensitive||false,position;if(!isString(input)||isUndefined(ends)){return input;}input=(sensitive)?input:input.toLowerCase();position=input.length-ends.length;return input.indexOf((sensitive)?ends:ends.toLowerCase(),position)!==-1;}});angular.module('a8m.ltrim',[]).filter('ltrim',function(){return function(input,chars){var trim=chars||'\\s';if(!isString(input)){return input;}return input.replace(new RegExp('^'+trim+'+'),'');}});angular.module('a8m.repeat',[]).filter('repeat',[function(){return function(input,n,separator){var times=~~n;if(!isString(input)){return input;}return(!times)?input:strRepeat(input,--n,separator||'');}}]);function strRepeat(str,n,sep){if(!n){return str;}return str+sep+strRepeat(str,--n,sep);}angular.module('a8m.rtrim',[]).filter('rtrim',function(){return function(input,chars){var trim=chars||'\\s';if(!isString(input)){return input;}return input.replace(new RegExp(trim+'+$'),'');}});angular.module('a8m.slugify',[]).filter('slugify',[function(){return function(input,sub){var replace=sub||'-';if(isString(input)){return input.toLowerCase().replace(/\s+/g,replace);}return input;}}]);angular.module('a8m.starts-with',[]).filter('startsWith',function(){return function(input,start,csensitive){var sensitive=csensitive||false;if(!isString(input)||isUndefined(start)){return input;}input=(sensitive)?input:input.toLowerCase();return!input.indexOf((sensitive)?start:start.toLowerCase());}});angular.module('a8m.stringular',[]).filter('stringular',function(){return function(input){var args=Array.prototype.slice.call(arguments,1);return input.replace(/{(\d+)}/g,function(match,number){return isUndefined(args[number])?match:args[number];});}});angular.module('a8m.strip-tags',[]).filter('stripTags',function(){return function(input){if(isString(input)){return input.replace(/<\S[^><]*>/g,'');}return input;}});angular.module('a8m.trim',[]).filter('trim',function(){return function(input,chars){var trim=chars||'\\s';if(!isString(input)){return input;}return input.replace(new RegExp('^'+trim+'+|'+trim+'+$','g'),'');}});angular.module('a8m.truncate',[]).filter('truncate',function(){return function(input,length,suffix,preserve){length=isUndefined(length)?input.length:length;preserve=preserve||false;suffix=suffix||'';if(!isString(input)||(input.length<=length))return input;return input.substring(0,(preserve)?((input.indexOf(' ',length)===-1)?input.length:input.indexOf(' ',length)):length)+suffix;};});angular.module('a8m.ucfirst',[]).filter('ucfirst',[function(){return function(input){return angular.isString(input)?input.split(' ').map(function(char){return char.charAt(0).toUpperCase()+char.substring(1);}).join(' '):input;}}]);angular.module('a8m.uri-encode',[]).filter('uriEncode',['$window',function($window){return function(input){if(isString(input)){return $window.encodeURI(input);}return input;}}]);angular.module('a8m.wrap',[]).filter('wrap',function(){return function(input,wrap,ends){if(!isString(input)||isUndefined(wrap)){return input;}return[wrap,input,ends||wrap].join('');}});angular.module('a8m.filter-watcher',[]).provider('filterWatcher',function(){var filterPrefix='_$$';this.setPrefix=function(prefix){filterPrefix=prefix;return this;};this.$get=['$window',function($window){var $$timeout=$window.setTimeout;function _getFullName(name){return filterPrefix+name;}function _isWatched(fName,object){return isDefined(object[fName]);}function _watch(name,object){var fName=_getFullName(name);if(!_isWatched(fName,object)){Object.defineProperty(object,fName,{enumerable:false,configurable:true,value:{}});}return object[fName];}function _destroy(name,object){return $$timeout(function(){delete object[_getFullName(name)];});}return{$watch:_watch,$destroy:_destroy}}];});angular.module('angular.filter',['a8m.ucfirst','a8m.uri-encode','a8m.slugify','a8m.strip-tags','a8m.stringular','a8m.truncate','a8m.starts-with','a8m.ends-with','a8m.wrap','a8m.trim','a8m.ltrim','a8m.rtrim','a8m.repeat','a8m.to-array','a8m.concat','a8m.contains','a8m.unique','a8m.is-empty','a8m.after','a8m.after-where','a8m.before','a8m.before-where','a8m.where','a8m.reverse','a8m.remove','a8m.remove-with','a8m.group-by','a8m.count-by','a8m.search-field','a8m.fuzzy-by','a8m.fuzzy','a8m.omit','a8m.pick','a8m.every','a8m.filter-by','a8m.xor','a8m.map','a8m.first','a8m.last','a8m.flatten','a8m.math','a8m.math.max','a8m.math.min','a8m.math.percent','a8m.math.radix','a8m.math.sum','a8m.math.degrees','a8m.math.radians','a8m.math.byteFmt','a8m.math.kbFmt','a8m.math.shortFmt','a8m.angular','a8m.conditions','a8m.is-null','a8m.filter-watcher']);})(window,window.angular);